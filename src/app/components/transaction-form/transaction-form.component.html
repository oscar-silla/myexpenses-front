<form
  *ngIf="operationType !== 'modify'"
  [formGroup]="profileForm"
  (ngSubmit)="onCreate()"
>
  <mat-tab-group
    animationDuration="0ms"
    formControlName="type"
    selectedIndex={{transactionTypeIndex}}
  >
    <mat-tab label="Expense"></mat-tab>
    <mat-tab label="Revenue"></mat-tab>
  </mat-tab-group>
  <mat-chip-listbox
    class="mat-mdc-chip-set-stacked"
    aria-label="Cutest dog breeds"
    formControlName="category"
    required
  >
    @for (category of categories; track category) {
    <mat-chip-option>{{ category }}</mat-chip-option>
    }
  </mat-chip-listbox>
  <div class="right">
    <button mat-button>Show more</button>
  </div>

  <mat-form-field appearance="fill">
    <mat-label>Amount</mat-label>
    <input required matInput type="number" formControlName="amount" />
    <mat-icon matSuffix>paid</mat-icon>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Description</mat-label>
    <input required matInput type="text" formControlName="description" />
    <mat-icon matSuffix>description</mat-icon>
  </mat-form-field>

  <div class="center">
    <button mat-button type="submit" [disabled]="!profileForm.valid">
      Create
    </button>
  </div>
</form>

<form
  *ngIf="operationType === 'modify' && expense"
  [formGroup]="profileForm"
  (ngSubmit)="onModify()"
>
  <mat-chip-listbox
    class="mat-mdc-chip-set-stacked"
    aria-label="Cutest dog breeds"
    formControlName="category"
    required
  >
    @for (category of categories; track category) {
    <mat-chip-option>{{ category }}</mat-chip-option>
    }
  </mat-chip-listbox>
  <div class="right">
    <button mat-button>Show more</button>
  </div>

  <mat-form-field appearance="fill">
    <mat-label>Amount</mat-label>
    <input required matInput type="number" formControlName="amount" />
    <mat-icon matSuffix>paid</mat-icon>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Description</mat-label>
    <input required matInput type="text" formControlName="description" />
    <mat-icon matSuffix>description</mat-icon>
  </mat-form-field>

  <div class="center">
    <button
      mat-button
      type="submit"
      [disabled]="!formValuesChanged() || !profileForm.valid"
    >
      Save changes
    </button>
  </div>
  <div class="center">
    <button type="button" mat-button (click)="openDialog()">
      <span class="red">Delete</span>
    </button>
  </div>
</form>
